-- Primer paso: creo la base de datos de mi ecommerce
DROP SCHEMA IF EXISTS SQL_ECOMMERCE;
CREATE SCHEMA IF NOT EXISTS SQL_ECOMMERCE;
USE SQL_ECOMMERCE;

-- Segundo paso: creo las tablas y sus respectivas columnas
CREATE TABLE CATEGORIAS (
    CATEGORIA_ID INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(255) NOT NULL,
    DESCRIPCION TEXT
);

CREATE TABLE PROVEEDORES (
    PROVEEDOR_ID INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(255) NOT NULL,
    DIRECCION VARCHAR(255),
    TELEFONO VARCHAR(20),
    EMAIL VARCHAR(255)
);

CREATE TABLE PRODUCTOS (
    PRODUCTO_ID INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(255) NOT NULL,
    DESCRIPCION TEXT,
    CATEGORIA_ID INT,
    PRECIO DECIMAL(10, 2),
    STOCK INT,
    PROVEEDOR_ID INT,
    FOREIGN KEY (CATEGORIA_ID) REFERENCES CATEGORIAS(CATEGORIA_ID),
    FOREIGN KEY (PROVEEDOR_ID) REFERENCES PROVEEDORES(PROVEEDOR_ID)
);

CREATE TABLE CLIENTES (
    CLIENTE_ID INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(255) NOT NULL,
    APELLIDO VARCHAR(255) NOT NULL,
    DIRECCION VARCHAR(255),
    TELEFONO VARCHAR(20),
    EMAIL VARCHAR(255),
    FECHA_REGISTRO DATE
);

CREATE TABLE ORDENES (
    ORDEN_ID INT AUTO_INCREMENT PRIMARY KEY,
    CLIENTE_ID INT,
    FECHA_ORDEN DATE,
    TOTAL DECIMAL(10, 2),
    PRODUCTO_ID INT,
    CANTIDAD INT,
    PRECIO_UNITARIO DECIMAL(10, 2),
    FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTES(CLIENTE_ID),
    FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTOS(PRODUCTO_ID)
);

CREATE TABLE EMPLEADOS (
    EMPLEADO_ID INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(255) NOT NULL,
    APELLIDO VARCHAR(255) NOT NULL,
    DIRECCION VARCHAR(255),
    TELEFONO VARCHAR(20),
    EMAIL VARCHAR(255),
    PUESTO VARCHAR(255),
    FECHA_CONTRATACION DATE
);

CREATE TABLE INVENTARIO (
    INVENTARIO_ID INT AUTO_INCREMENT PRIMARY KEY,
    PRODUCTO_ID INT,
    CANTIDAD INT,
    FECHA_ACTUALIZACION DATE,
    FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTOS(PRODUCTO_ID)
);

-- Tercer paso: procedo a insertar informacion en las tablas
INSERT INTO CATEGORIAS (NOMBRE, DESCRIPCION) VALUES 
('MONITORES', 'PANTALLAS DE ALTA RESOLUCIÓN DISEÑADAS PARA GAMERS.'),
('COMPUTADORAS', 'PCS DE ALTO RENDIMIENTO PARA GAMING.'),
('MOUSE', 'RATONES ERGONÓMICOS Y DE ALTA PRECISIÓN PARA GAMERS.'),
('LAPTOPS', 'PORTÁTILES POTENTES DISEÑADAS PARA JUEGOS.'),
('AURICULARES', 'AUDÍFONOS CON SONIDO ENVOLVENTE Y MICRÓFONO PARA JUEGOS.');

INSERT INTO PROVEEDORES (NOMBRE, DIRECCION, TELEFONO, EMAIL) VALUES 
('PROVEEDOR A', 'CALLE FALSA 123', '123456789', 'CONTACTO@PROVEEDORA.COM'),
('PROVEEDOR B', 'AVENIDA SIEMPRE VIVA 742', '987654321', 'VENTAS@PROVEEDORB.COM'),
('PROVEEDOR C', 'CALLE DEL JUEGO 101', '456123789', 'INFO@PROVEEDORC.COM'),
('PROVEEDOR D', 'AVENIDA GAMER 456', '321654987', 'SOPORTE@PROVEEDORD.COM'),
('PROVEEDOR E', 'BOULEVARD TECH 789', '654321987', 'CONTACT@PROVEEDORE.COM');

INSERT INTO PRODUCTOS (NOMBRE, DESCRIPCION, CATEGORIA_ID, PRECIO, STOCK, PROVEEDOR_ID) VALUES 
('MONITOR 27" 4K', 'MONITOR DE ALTA DEFINICIÓN 4K PARA GAMING', 1, 399.99, 50, 1),
('PC GAMING XYZ', 'COMPUTADORA DE ALTO RENDIMIENTO PARA JUEGOS', 2, 1499.99, 30, 2),
('MOUSE GAMER PRO', 'MOUSE ERGONÓMICO Y PRECISO PARA GAMERS', 3, 49.99, 100, 3),
('LAPTOP GAMING 15"', 'PORTÁTIL POTENTE PARA JUEGOS', 4, 1299.99, 20, 4),
('AURICULARES ENVOLVENTES', 'AUDÍFONOS CON SONIDO ENVOLVENTE Y MICRÓFONO', 5, 79.99, 75, 5);

INSERT INTO CLIENTES (NOMBRE, APELLIDO, DIRECCION, TELEFONO, EMAIL, FECHA_REGISTRO) VALUES 
('JUAN', 'PÉREZ', 'CALLE FALSA 123', '123456789', 'JUAN.PEREZ@GMAIL.COM', '2023-01-01'),
('ANA', 'GARCÍA', 'AVENIDA SIEMPRE VIVA 742', '987654321', 'ANA.GARCÍA@GMAIL.COM', '2023-02-01'),
('LUIS', 'MARTÍNEZ', 'CALLE DEL JUEGO 101', '456123789', 'LUIS.MARTÍNEZ@GMAIL.COM', '2023-03-01'),
('MARÍA', 'LÓPEZ', 'AVENIDA GAMER 456', '321654987', 'MARÍA.LÓPEZ@GMAIL.COM', '2023-04-01'),
('CARLOS', 'SÁNCHEZ', 'BOULEVARD TECH 789', '654321987', 'CARLOS.SÁNCHEZ@GMAIL.COM', '2023-05-01');

INSERT INTO ORDENES (CLIENTE_ID, FECHA_ORDEN, TOTAL, PRODUCTO_ID, CANTIDAD, PRECIO_UNITARIO) VALUES 
(1, '2023-06-01', 479.98, 1, 1, 399.99),
(1, '2023-06-01', 479.98, 3, 1, 49.99),
(2, '2023-06-02', 1499.99, 2, 1, 1499.99),
(3, '2023-06-03', 49.99, 3, 1, 49.99),
(4, '2023-06-04', 1299.99, 4, 1, 1299.99),
(5, '2023-06-05', 79.99, 5, 1, 79.99),
(2, '2023-06-06', 799.98, 1, 2, 399.99),
(3, '2023-06-07', 99.98, 3, 2, 49.99),
(4, '2023-06-08', 2599.98, 2, 2, 1299.99),
(5, '2023-06-09', 159.98, 5, 2, 79.99),
(1, '2023-06-10', 849.98, 2, 1, 1499.99),
(3, '2023-06-11', 149.97, 3, 3, 49.99),
(4, '2023-06-12', 3899.97, 2, 3, 1299.99),
(2, '2023-06-13', 239.97, 5, 3, 79.99),
(5, '2023-06-14', 449.97, 1, 3, 399.99);

INSERT INTO EMPLEADOS (NOMBRE, APELLIDO, DIRECCION, TELEFONO, EMAIL, PUESTO, FECHA_CONTRATACION) VALUES 
('Laura', 'González', 'Calle Tech 123', '123123123', 'laura.gonzalez@gmail.com', 'Vendedora', '2022-01-01'),
('Pedro', 'Hernández', 'Avenida Gamer 789', '321321321', 'pedro.hernandez@gmail.com', 'Gerente', '2022-02-01'),
('Claudia', 'Rodríguez', 'Boulevard Jugador 456', '456456456', 'claudia.rodriguez@gmail.com', 'Soporte Técnico', '2022-03-01'),
('Sofía', 'Fernández', 'Calle Monitor 789', '789789789', 'sofia.fernandez@gmail.com', 'Vendedora', '2022-04-01'),
('Miguel', 'Gómez', 'Avenida Computadora 123', '987987987', 'miguel.gomez@gmail.com', 'Almacenista', '2022-05-01');

INSERT INTO INVENTARIO (PRODUCTO_ID, CANTIDAD, FECHA_ACTUALIZACION) VALUES 
(1, 50, '2023-06-01'),
(2, 30, '2023-06-02'),
(3, 100, '2023-06-03'),
(4, 20, '2023-06-04'),
(5, 75, '2023-06-05');

-- Cuarto paso: por ultimo utilizo consultas para verificar que la informacion se haya guardado
SELECT * FROM CATEGORIAS;
SELECT * FROM PROVEEDORES;
SELECT * FROM PRODUCTOS;
SELECT * FROM CLIENTES;
SELECT * FROM ORDENES;
SELECT * FROM EMPLEADOS;
SELECT * FROM INVENTARIO;